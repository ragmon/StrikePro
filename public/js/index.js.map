{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["$(\".movwDown\").on(\"click\", function (event) {\n    event.preventDefault();\n    var id = $(this).attr('href'),\n        top = $(id).offset().top - $(\".header\").innerHeight();\n    $('body,html').animate({scrollTop: top}, 300);\n});\n\n$(function () {\n\n});\n\n\n$(function () {\n    function ajaxSubmitSunscribe(form) {\n        var $this = $(form);\n        var data = $this.serialize();\n        $.ajax({\n            'url': ajax_url.ajaxSubmitSunscribeUrl,\n            'type': 'post',\n            'dataType': 'html',\n            'data': data,\n            'success': function (data, textStatus, jqXHR) {\n                console.log('Success register subscription.', data, textStatus, jqXHR);\n\n                $(\".subscription-form\").find(\".js__popup\").show();\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\n            },\n            'error': function (jqXHR, textStatus, errorThrown) {\n                console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\n\n                $(\".subscription-form\").find(\".js__popup--error\").show();\n                $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\n            }\n        }).done(function () {\n            form.reset();\n        });\n    }\n\n    $(\".subscription-form\").submit(function (e) {\n        e.preventDefault();\n        return false;\n    }).validate({\n        rules: {\n            email: {\n                required: true,\n                email: true,\n                minlength: 6\n            }\n        },\n        messages: {\n            email: {\n                required: \"Поле Email обязательно для заполнения\",\n                email: \"Адрес электронной почты недействителен\"\n            }\n        },\n        submitHandler: function (form) {\n            ajaxSubmitSunscribe(form);\n        }\n    });\n});\n\n\n$(document).on(\"click\", function (event) {\n    if ($(event.target).closest(\".js__closePopup\").length == 1) {\n        $(\".js__popUP__video\").detach();\n        $(\".js__popup--error\").hide();\n        $(event.target).closest(\".js__popup\").hide();\n        $(\"body\").css({\n            \"overflow\": \"inherit\"\n        });\n        return\n    } else if ($(event.target).closest(\".js__noPropagation\").length == 1) {\n        event.stopPropagation();\n        return\n    } else if ($(event.target).closest(\".js__popup\").length == 1) {\n\n        $(\".js__popUP__video\").detach();\n        $(\".js__popup--error\").hide();\n        event.stopPropagation();\n        $(event.target).closest(\".js__popup\").hide();\n        $(\"body\").css({\n            \"overflow\": \"inherit\"\n        });\n        return\n    }\n})\n\n\n// VIDEO POPUP\n$(document).ready(function () {\n\n    $(\".js__videoPopup\").on(\"click\", function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        console.log('closk')\n        var k = 1280 / 720;\n        var w = screen.width;\n        var link = $(this).attr('href');\n        var popUp_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe>';\n        var popUp = '<div class=\"popUP__wrapper js__popUP__video js__popup active\"><div class=\"popUP__video js__noPropagation\"> <button class=\"close__popup js__closePopup\">&#215;</button>' + popUp_content + '</div></div>';\n        $(\"body\").css({\n            \"overflow\": \"hidden\"\n        });\n        $(\"body\").append(popUp);\n\n\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\n        $('.popUP__video').css({\"height\": w * 0.7 / k, \"width\": w * 0.7});\n\n    })\n\n\n    $(window).resize(function () {\n        var k = 1280 / 720;\n        var w = screen.width;\n\n        $(\".popUP__wrapper\").css({\"height\": window.innerHeight + \"px\"});\n        $('.header__search--mobile').css({\"height\": window.innerHeight + \"px\"});\n        console.log(w);\n        if (w < 700) {\n            $('.popUP__video').css({\"width\": \"100%\"});\n            $('.popUP__video').height($('.popUP__video').width() / k);\n        } else {\n            $('.popUP__video').css({\"height\": w * 0.8 / k, \"width\": w * 0.8});\n        }\n    });\n\n\n})\n\n\n// FLEXSLIDER PAGE INDEX\n\n\n// Jquery UI range\n$(document).ready(function () {\n    jQuery(\"#input_range-1\").slider({\n        min: 0,\n        max: 15,\n        step: 1,\n        value: '',\n        range: true\n    });\n\n    jQuery(\"#input_range-2\").slider({\n        min: 0,\n        max: 11,\n        values: '',\n        range: true\n    });\n    jQuery(\"#input_range-3\").slider({\n        min: 0,\n        max: 61,\n        values: \"\",\n        range: true\n    });\n    addValue()\n\n    function addValue() {\n        var btn = $(\".ui-slider-handle\");\n        for (var i = 0; i < btn.length; i++) {\n            $(btn[i]).append(\"<span class='input_range-value'></span>\")\n        }\n    }\n\n    $('#input_range-1').bind('slide', function () {\n        var rangList = $('#input_range-1 .input_range-value');\n        $(rangList[0]).text($('#input_range-1').slider('values')[0] + \" кг\");\n        $(rangList[1]).text($('#input_range-1').slider('values')[1] + \" кг\");\n    });\n    $('#input_range-2').bind('slide', function () {\n        var rangList = $('#input_range-2 .input_range-value');\n        $(rangList[0]).text($('#input_range-2').slider('values')[0] + \" cм\");\n        $(rangList[1]).text($('#input_range-2').slider('values')[1] + \" см\");\n    });\n    $('#input_range-3').bind('slide', function () {\n        var rangList = $('#input_range-3 .input_range-value');\n        $(rangList[0]).text($('#input_range-3').slider('values')[0] + \" метров\");\n        $(rangList[1]).text($('#input_range-3').slider('values')[1] + \" метров\");\n    });\n\n    $(\".productList__filtrBlock--reset\").on('click', function () {\n        $('#input_range-3').slider('values', [0, 15])\n        $('#input_range-1 .input_range-value').text($('#input_range-1').slider('values') + \" кг\");\n        $('#input_range-2').slider('values', [0, 11]);\n        $('#input_range-2 .input_range-value').text($('#input_range-2').slider('values') + \" см\");\n        $('#input_range-1').slider('values', [0, 6])\n        $('#input_range-3 .input_range-value').text($('#input_range-3').slider('values') + \" метр\");\n    })\n\n})\n\n\n// close product filtr\n$(\".productList__filtrBlock--close\").on(\"click\", function (event) {\n    event.preventDefault();\n    var filtr = $(\".productList__filtrBlock\");\n    filtr.slideToggle();\n    $(\".productList__filtrBlock--close\").toggleClass(\"active\");\n})\n\n\n// mobile menu\n$(\".headerNav__toggle\").on(\"click\", function () {\n    var $body = $(\"body\");\n    var $headerTop = $(\".header__top\");\n    $(this).toggleClass(\"active\");\n    if ($(this).hasClass(\"active\")) {\n        $($headerTop).addClass(\"nav__active\");\n        $($body).addClass(\"nav__active\");\n\n        if ($($body).find('.nav-backdrop').length) {\n            var $navBackdrop = $(\".nav-backdrop\");\n            $($navBackdrop).addClass(\"active\");\n            console.log('closeHeaderNav');\n            $($navBackdrop).bind('click', closeHeaderNav);\n        } else {\n\n            $($body).append('<div class=\"nav-backdrop active\"></div>');\n            $(\".nav-backdrop\").bind('click', closeHeaderNav);\n        }\n\n    } else {\n        closeHeaderNav();\n    }\n});\n\nfunction closeHeaderNav() {\n    console.log('closeHeaderNav');\n    var $body = $(\"body\");\n    var $headerTop = $(\".header__top\");\n    var $navBackdrop = $(\".nav-backdrop\");\n\n    $($headerTop).removeClass(\"nav__active\");\n    $('.headerNav__toggle').removeClass(\"active\");\n    $($body).removeClass(\"nav__active\");\n    $($navBackdrop).unbind('click', closeHeaderNav);\n\n    $($navBackdrop).removeClass(\"active\");\n}\n\n\n// $(\".custom-menu__wrapper\").hover(\n//     function () {\n//         console.log(\"on\");\n//         $(\"body\").css({\"overflow\": \"hidden\"})\n//     },\n//     function () {\n//         console.log(\"off\");\n//         $(\"body\").css({\"overflow\": \"auto\"})\n//     });\n$('.custom-menu__toggle').on('click', function () {\n    console.log('click');\n    if (window.innerWidth < 1024) {\n        if ($(this).hasClass('active')) {\n            $(this).removeClass('active');\n        } else {\n            $('.custom-menu__toggle').removeClass('active');\n            $(this).addClass('active');\n        }\n    }\n});\n// $('.custom-menu__toggle').hover(function () {\n//     console.log('click');\n//     if (window.outerWidth < 1024) {\n//         if ($(this).hasClass('active')) {\n//             $(this).removeClass('active');\n//         } else {\n//             $('.custom-menu__toggle').removeClass('active');\n//             $(this).addClass('active');\n//         }\n//     }\n// },function () {\n//     console.log('click');\n//     if (window.outerWidth < 1024) {\n//         if ($(this).hasClass('active')) {\n//             $(this).removeClass('active');\n//         } else {\n//             $('.custom-menu__toggle').removeClass('active');\n//             $(this).addClass('active');\n//         }\n//     }\n// });\n\n// desctop menu\n$(window).resize(function () {\n    var w = screen.width;\n\n    if (w > 1023) {\n        $(\"body\").removeClass(\"nav__active\");\n        $(\".header__top\").removeClass(\"nav__active\");\n        $(\".headerNav__toggle\").removeClass(\"active\");\n        closeHeaderNav()\n    }\n});\n\n\n// mobile search popup\n$(\".header__search--btn\").on(\"click\", function (event) {\n\n    event.preventDefault();\n    if (!$(\"body\").hasClass(\"nav__active\")) {\n        $(\".header__search--mobile\").show();\n        $(\".header__search--mobile\").css({\"height\": window.innerHeight + \"px\"});\n    }\n\n})\n\n$(document).on(\"click\", function (event) {\n    if ($(event.target).closest(\".form-group\").length == 1) {\n        event.stopPropagation();\n        return\n    } else if ($(event.target).closest(\".header__search--mobile\").length == 1) {\n        $(\".header__search--mobile\").hide();\n        return\n    }\n})\n\n$(document).keyup(function (eventObject) {\n    if (eventObject.which == 27) {\n        $(\".header__search--mobile\").hide();\n        $(\".js__popup\").hide();\n        $(\".js__popup\").hide();\n        $(\".js__popUP__video\").detach();\n        $(\"body\").css({\n            \"overflow\": \"inherit\"\n        });\n    }\n\n});\n\n\n// JQUERY UI Autocomplete Widget\n$(document).ready(function () {\n\n    $('.js__search').autocomplete({\n        minLength: 2,\n        delay: 1000,\n        source: function (request, response) {\n            $.ajax({\n                url: ajax_url.autocompleteServerUrl, // ссылка на json\n                type: 'get',\n                data: {\n                    'q': $('[name=q]').val()\n                },\n                success: function (data) { // получаем данные из json\n\n                    response(data.data);\n                },\n                'error': function (jqXHR, textStatus, errorThrown) {\n                    console.error('Error register subscription!', jqXHR, textStatus, errorThrown);\n                }\n            });\n        },\n        select: function (event, ui) {\n            location.assign(ui.item.url)\n        },\n    }).data(\"ui-autocomplete\")._renderItem = function (ul, item) {\n        if (item.image === undefined) {\n            return $(\"<li></li>\")\n                .data(\"ui-autocomplete-item\", item)\n                .append(\"<span class='autocompleteItem__title'>\" +\n                    item.title +\n                    \"</span>\")\n                .appendTo(ul);\n        } else {\n            return $(\"<li></li>\")\n                .data(\"ui-autocomplete-item\", item)\n                .append(\"<span class='autocompleteItem__img'>\" +\n                    \"<img src=\" + item.image.data.thumb + \">\" +\n                    \"</span>\" +\n                    \"<span class='autocompleteItem__title'>\" +\n                    item.title +\n                    \"</span>\")\n                .appendTo(ul);\n        }\n    };\n\n\n    $('.js__search').keydown(function (event) {\n        if (event.keyCode == 13) {\n            $(\".header__search\").submit();\n            return false;\n        }\n    });\n\n\n});\n\n\n$(\".product__zoom\").on(\"click\", function () {\n    var link = $(this).closest(\".product__stand\").find(\"img\").attr(\"src\");\n\n    $(\"body\").css({\n        \"overflow\": \"hidden\"\n    });\n\n    $(\".popUP__productImg\").css({\n        \"width\": $(this).closest(\".product__stand\").find(\"img\").width() + \"px\",\n        \"height\": $(this).closest(\".product__stand\").find(\"img\").height() + \"px\"\n    });\n\n    $(\".popUP__productImg\").find(\"img\").attr(\"src\", link);\n    $(\".popUP__productImg\").closest(\".popUP__wrapper\").show();\n\n})\n\n//--------------------------------------------------------------\n//--------------------------------------------------------------\n/* \n\n код ниже нужен для горизонтального скрола на странице списка продуктов  для прокрутки вариация проддуктов\n\n */\n//--------------------------------------------------------------\n//--------------------------------------------------------------\n\n$(document).ready(\n    function () {\n\n        var scrollSetting = {\n            parentCategoryBlock: \"\",\n            parentCategoryBlockWidth: \"\",\n            childrenCategoryBlock: \"\",\n            childrenCategoryBlockWidth: \"\",\n            maxPos: 0,\n            currentPos: 0,\n            scrollSpeed: 15\n        }\n\n        function initHscrool() {\n            scrollSetting.parentCategoryBlock = $(\".container-tab\");\n            scrollSetting.parentCategoryBlockWidth = $(scrollSetting.parentCategoryBlock).width();\n            scrollSetting.childrenCategoryBlock = $(\".accordion-tabs\");\n            scrollSetting.childrenCategoryBlockWidth = $(scrollSetting.childrenCategoryBlock).width();\n            scrollSetting.maxPos = scrollSetting.childrenCategoryBlockWidth - scrollSetting.parentCategoryBlockWidth;\n            scrollSetting.currentPos = parseInt($(scrollSetting.childrenCategoryBlock).css(\"left\"), 10);\n        }\n\n        function HScrollCategory(e) {\n            var scrollTo = null;\n            var scrollDir = 0;\n            if (e.type === 'mousewheel') {\n                scrollTo = (e.originalEvent.wheelDelta * -1);\n                scrollDir = scrollTo;\n            }\n            else if (e.type === 'DOMMouseScroll') {\n                scrollTo = 40 * e.originalEvent.detail;\n                scrollDir = scrollTo;\n            }\n            if (scrollTo) {\n                e.preventDefault();\n                $(this).scrollTop(scrollTo + $(this).scrollTop());\n            }\n\n            if (scrollDir > 0) {\n                console.log(\"down\");\n                if (scrollSetting.currentPos < scrollSetting.maxPos) {\n                    scrollSetting.currentPos += scrollSetting.scrollSpeed;\n                } else {\n                    return\n                }\n                if (scrollSetting.currentPos >= scrollSetting.maxPos) {\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.maxPos + \"px\"});\n                    return\n                }\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\n            } else if (scrollDir < 0) {\n                console.log(\"up\");\n                if (scrollSetting.currentPos > 0) {\n                    scrollSetting.currentPos -= scrollSetting.scrollSpeed;\n                } else {\n                    return\n                }\n                if (scrollSetting.currentPos <= 0) {\n                    $(scrollSetting.childrenCategoryBlock).css({\"left\": \"0px\"});\n                    return\n                }\n                $(scrollSetting.childrenCategoryBlock).css({\"left\": \"-\" + scrollSetting.currentPos + \"px\"})\n            }\n        }\n\n        $(\".headerNav__item\").hover(\n            function () {\n                // пришел\n                var w = screen.width;\n                if (w >= 1024) {\n                    initHscrool();\n                    $(scrollSetting.parentCategoryBlock).bind('mousewheel DOMMouseScroll', HScrollCategory);\n                }\n\n            },\n            function () {\n                // ушел\n                var w = screen.width;\n                if (w >= 1024) {\n                    $(scrollSetting.parentCategoryBlock).unbind('mousewheel DOMMouseScroll', HScrollCategory);\n                    $(\".accordion-tabs\").css({\"left\": \"0px\"});\n                }\n            });\n\n\n        $(window).resize(function () {\n            var w = screen.width;\n\n            if (w > 1024) {\n\n            }\n        });\n\n\n        //\n        // $(window).resize(function () {\n        //     addGradientBlock()\n        // });\n\n        $(\".tile__wrapper--big\").on(\"click\", function (event) {\n            event.preventDefault();\n            var href = $(this).attr('href');\n            var video_content = '<iframe width=\"100%\" height=\"100%\" src=\"' + href + '\" frameborder=\"0\" allowfullscreen></iframe>';\n            $(this).empty();\n            $(this).append(video_content);\n        })\n\n    }\n);\n\n\n(function ($) {\n    $(function () {\n\n        $('#moveup').click(function () {\n            $('html, body').animate({scrollTop: 0}, 500);\n            return false;\n        })\n\n    })\n})(jQuery)"],"file":"index.js"}