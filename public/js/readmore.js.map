{"version":3,"names":[],"mappings":"","sources":["readmore.js"],"sourcesContent":["$(document).ready(function () {\n\n    var $readmoreWrapper = $('.readmore-wrapper');\n    var $readmoreContent = $('.readmore-content');\n    var $readmoreButtonWrapper = $('.readmore-button_wrapper');\n    var $readmoreButton = $('.readmore-button');\n\n    // readmore-button_wrapper--half\n    function CloseReadMoreContent() {\n        var MinHeight = ($($readmoreWrapper).width() / 4).toFixed();\n        console.log(MinHeight);\n        console.log($($readmoreWrapper).height());\n        if ($($readmoreWrapper).height() > MinHeight) {\n            if (window.innerWidth >= 768) {\n                $($readmoreContent).height(MinHeight);\n            } else {\n                $($readmoreContent).height(200);\n            }\n            $($readmoreContent).css('display', 'block');\n            if ($($readmoreButtonWrapper).hasClass('hidden')) {\n                $($readmoreButtonWrapper).removeClass('hidden');\n            }\n        } else if (!$($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\n            $($readmoreButtonWrapper).addClass('hidden');\n        } else if ($($readmoreWrapper).height() <= MinHeight) {\n            $($readmoreButtonWrapper).addClass('hidden');\n        }\n    }\n\n    function OpenReadMoreContent() {\n        $($readmoreContent).css('height', 'auto');\n        $($readmoreContent).css('display', 'inline');\n    }\n\n    function init() {\n\n        console.log('$readmoreContent: ', $readmoreContent);\n        if (!$readmoreWrapper.length) {\n            return null;\n        }\n        if($readmoreWrapper[\"0\"].children.length === 3) {\n            $($readmoreButtonWrapper).addClass('readmore-button_wrapper--half');\n        }\n        CloseReadMoreContent();\n        $($readmoreButtonWrapper).addClass('readmore-button_wrapper--close');\n\n        $($readmoreButton).on('click', $.debounce(300, true, function (e) {\n            if ($($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\n                OpenReadMoreContent();\n                $($readmoreButtonWrapper).removeClass('readmore-button_wrapper--close');\n                $($readmoreButton).text('СВЕРНУТЬ');\n            } else {\n                CloseReadMoreContent();\n                $($readmoreButtonWrapper).addClass('readmore-button_wrapper--close');\n                $($readmoreButton).text('ПОДРОБНЕЕ');\n\n            }\n        }));\n\n        $(window)\n            .resize($.debounce(300, false, function (e) {\n                if ($($readmoreButtonWrapper).hasClass('readmore-button_wrapper--close')) {\n                    CloseReadMoreContent();\n                }\n            }));\n    }\n\n    init()\n});\n"],"file":"readmore.js"}